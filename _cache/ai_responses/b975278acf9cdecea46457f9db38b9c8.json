{
  "timestamp": "2025-12-01T01:32:54.405010",
  "content": "---\nlayout: single\ntitle: \"如何撰寫一份優秀的 Claude.md：提升 AI 協作效率的關鍵指南\"\ndate: 2025-12-01 01:32:54 +0800\ncategories:\n  - AI工具\ntags:\n  - AI\n  - AI工具\n  - 人工智慧\nexcerpt: \"在 AI 輔助開發的時代，我們與 AI 的互動方式正在經歷革命性的轉變。Claude、ChatGPT 等大型語言模型已成為開發者的得力助手，但你是否發現，同樣的問題，有些人能讓 AI 產出近乎完美的程式碼，而有些人卻得到模糊不清的回應？關鍵差異往往在於「上下文」的提供方式。\"\n---\n\n# 如何撰寫一份優秀的 Claude.md：提升 AI 協作效率的關鍵指南\n\n## 引言\n\n在 AI 輔助開發的時代，我們與 AI 的互動方式正在經歷革命性的轉變。Claude、ChatGPT 等大型語言模型已成為開發者的得力助手，但你是否發現，同樣的問題，有些人能讓 AI 產出近乎完美的程式碼，而有些人卻得到模糊不清的回應？關鍵差異往往在於「上下文」的提供方式。\n\n`Claude.md` 正是為了解決這個問題而生的實踐方法——一份專為 AI 助手準備的專案說明文件。透過結構化的資訊提供，你可以讓 AI 更深入理解你的專案架構、編碼風格和業務邏輯，從而獲得更精準、更符合需求的協助。這不僅能節省大量來回溝通的時間，更能顯著提升程式碼品質和開發效率。讓我們深入探討如何撰寫一份真正有效的 `Claude.md`。\n\n## 核心內容\n\n### 📋 什麼是 Claude.md？\n\n`Claude.md` 是一份放置在專案根目錄的 Markdown 文件，專門用來向 AI 助手（如 Claude、ChatGPT 等）說明專案的各項重要資訊。它就像是專案的「使用說明書」，但受眾不是人類開發者，而是 AI 協作夥伴。\n\n這份文件的核心價值在於：\n\n- **減少重複解釋**：將專案背景、架構、慣例一次說明清楚\n- **提升回應品質**：AI 能基於完整上下文給出更準確的建議\n- **保持一致性**：確保 AI 產出的程式碼符合專案規範\n- **加速開發流程**：減少來回確認，直接獲得可用的解決方案\n\n### 🏗️ Claude.md 的核心結構\n\n一份優秀的 `Claude.md` 應該包含以下關鍵區塊：\n\n#### 1. 專案概述（Project Overview）\n\n這是 AI 理解你專案的第一步。應該簡潔但全面地說明：\n\n```markdown\n## 專案概述\n\n本專案是一個基於 TypeScript 的 SaaS 平台，提供企業級的資料分析服務。\n主要技術棧：\n- 前端：Next.js 14 (App Router)、TailwindCSS、shadcn/ui\n- 後端：Node.js、Express、PostgreSQL\n- 部署：Vercel + Supabase\n```\n\n**實用建議**：\n- 用 2-3 句話說明專案的核心價值\n- 列出主要技術棧（版本號很重要！）\n- 說明專案規模（小型工具 vs 企業級應用）\n\n#### 2. 架構說明（Architecture）\n\n這部分幫助 AI 理解程式碼的組織方式：\n\n```markdown\n## 專案架構\n\n/app                 # Next.js App Router 頁面\n/components          # React 元件\n  /ui               # 基礎 UI 元件（shadcn/ui）\n  /features         # 功能性元件\n/lib                # 共用工具函式\n/services           # API 呼叫層\n/types              # TypeScript 型別定義\n```\n\n**關鍵要點**：\n- 使用樹狀圖或清晰的目錄結構\n- 解釋每個資料夾的職責\n- 說明資料流向（如：UI → Service → API）\n\n#### 3. 編碼規範（Coding Conventions）\n\n這是最容易被忽略但極其重要的部分：\n\n```markdown\n## 編碼規範\n\n### 命名慣例\n- 元件：PascalCase（例：UserProfile.tsx）\n- 函式：camelCase（例：fetchUserData）\n- 常數：UPPER_SNAKE_CASE（例：API_BASE_URL）\n\n### 程式碼風格\n- 使用函式元件（Function Components），不使用類別元件\n- 優先使用 TypeScript 的嚴格模式\n- 所有 API 呼叫必須包含錯誤處理\n- 使用 Zod 進行資料驗證\n\n### 範例\n```typescript\n// ✅ 正確\nasync function fetchUserData(userId: string): Promise<User> {\n  try {\n    const response = await api.get(`/users/${userId}`);\n    return userSchema.parse(response.data);\n  } catch (error) {\n    logger.error('Failed to fetch user', { userId, error });\n    throw new ApiError('User fetch failed');\n  }\n}\n\n// ❌ 避免\nfunction getUser(id) {\n  return fetch('/users/' + id).then(r => r.json());\n}\n```\n```\n\n**實戰技巧**：\n- 提供具體的「做」與「不做」範例\n- 說明例外情況（什麼時候可以打破規則）\n- 包含常見的錯誤模式\n\n#### 4. 關鍵決策與脈絡（Key Decisions & Context）\n\n記錄重要的技術決策，避免 AI 提出已被否決的方案：\n\n```markdown\n## 技術決策記錄\n\n### 為什麼使用 Supabase 而非自建後端？\n- 團隊規模小（3 人），需要快速迭代\n- Supabase 提供即時訂閱功能，符合產品需求\n- 成本考量：初期用戶量預估在 10k 以下\n\n### 為什麼不使用 Redux？\n- 專案狀態管理需求簡單\n- 使用 React Context + Zustand 已足夠\n- 避免過度工程化\n```\n\n**為什麼這很重要**：\n- AI 不會建議你「改用 Redux」（因為你已說明原因）\n- 新成員（或未來的你）也能理解決策背景\n- 避免重複討論已解決的問題\n\n#### 5. 常見任務指南（Common Tasks）\n\n提供具體的操作範例，讓 AI 知道如何協助你：\n\n```markdown\n## 常見開發任務\n\n### 新增一個 API 端點\n1. 在 `/app/api/[endpoint]/route.ts` 建立檔案\n2. 使用 Zod schema 驗證輸入\n3. 在 `/services` 建立對應的服務函式\n4. 更新 `/types/api.ts` 的型別定義\n5. 撰寫單元測試\n\n### 新增一個頁面\n1. 在 `/app/[route]/page.tsx` 建立檔案\n2. 使用 Server Component（除非需要客戶端互動）\n3. 在 `/components/features` 建立功能元件\n4. 更新導航選單（如適用）\n```\n\n### 📊 實際案例分析\n\n讓我們看一個真實的對比案例：\n\n**沒有 Claude.md 的情況**：\n\n```\n開發者：幫我寫一個使用者登入的功能\nAI：好的，這裡是一個基本的登入表單...\n[產出使用 class component 的 React 程式碼]\n\n開發者：我們用的是函式元件\nAI：抱歉，這是修改後的版本...\n[產出沒有 TypeScript 的程式碼]\n\n開發者：需要加上 TypeScript 型別\nAI：這是加上型別的版本...\n[產出沒有錯誤處理的程式碼]\n```\n\n**有 Claude.md 的情況**：\n\n```\n開發者：幫我實作使用者登入功能\nAI：基於你的專案規範，我會：\n- 使用 Next.js App Router 的 Server Actions\n- 套用 Zod schema 驗證\n- 使用 Supabase Auth\n- 遵循你的錯誤處理模式\n\n[直接產出符合專案規範的完整程式碼]\n```\n\n時間節省：**從 5 次來回降到 1 次**，品質提升：**首次產出即可使用**。\n\n### 🎯 進階技巧\n\n#### 使用「情境模板」\n\n針對不同類型的任務，提供標準化的模板：\n\n```markdown\n## 元件開發模板\n\n當建立新元件時，請遵循以下結構：\n\n```typescript\n'use client'; // 僅在需要客戶端互動時使用\n\nimport { ComponentProps } from '@/types';\nimport { cn } from '@/lib/utils';\n\ninterface [ComponentName]Props {\n  // 明確定義 props\n}\n\nexport function [ComponentName]({ \n  ...props \n}: [ComponentName]Props) {\n  // 1. Hooks（useState, useEffect 等）\n  // 2. 事件處理函式\n  // 3. 渲染邏輯\n  \n  return (\n    <div className={cn(\"base-classes\", props.className)}>\n      {/* 內容 */}\n    </div>\n  );\n}\n```\n```\n\n#### 記錄已知限制\n\n誠實地說明專案的限制，避免 AI 提出不可行的建議：\n\n```markdown\n## 已知限制與約束\n\n- **效能**：目前不支援超過 10MB 的檔案上傳（基礎設施限制）\n- **瀏覽器**：不支援 IE11（已明確放棄）\n- **API**：第三方 API 有每分鐘 100 次的請求限制\n- **資料庫**：PostgreSQL 版本為 14，不支援某些 15+ 的新特性\n```\n\n### 📈 維護與更新\n\n`Claude.md` 不是一次性文件，應該隨專案演進：\n\n| 時機 | 更新內容 | 範例 |\n|------|---------|------|\n| 技術棧變更 | 更新架構說明 | 從 Pages Router 遷移到 App Router |\n| 新增編碼規範 | 補充規範章節 | 團隊決定統一使用 Prettier |\n| 重大重構 | 更新架構圖 | 引入微服務架構 |\n| 踩坑經驗 | 加入「避免」清單 | 某個套件的已知問題 |\n\n**實用建議**：\n- 在 PR 審查時檢查是否需要更新 `Claude.md`\n- 每季度進行一次完整檢視\n- 將更新 `Claude.md` 納入 Definition of Done\n\n## 實際應用\n\n### 🚀 如何開始撰寫你的第一份 Claude.md\n\n**步驟一：建立基本骨架（15 分鐘）**\n\n在專案根目錄建立 `Claude.md`，使用以下模板：\n\n```markdown\n# [專案名稱] - AI 協作指南\n\n## 專案概述\n[2-3 句話說明專案]\n\n## 技術棧\n- 前端：\n- 後端：\n- 資料庫：\n- 部署：\n\n## 專案結構\n[貼上主要資料夾結構]\n\n## 編碼規範\n[列出 3-5 個最重要的規則]\n```\n\n**步驟二：逐步豐富內容（持續進行）**\n\n不要試圖一次寫完所有內容。每次遇到以下情況時更新：\n- AI 給出不符合預期的回應 → 補充相關規範\n- 新成員問了重複的問題 → 加入常見任務指南\n- 做出重要技術決策 → 記錄在決策章節\n\n**步驟三：實戰測試（每週）**\n\n選擇一個實際任務，在與 AI 對話時先分享 `Claude.md`：\n\n```\n我需要新增一個使用者設定頁面。\n請先閱讀專案根目錄的 Claude.md，\n然後根據我們的規範提供實作建議。\n```\n\n觀察 AI 的回應品質，調整文件內容。\n\n### 💡 團隊協作場景\n\n**場景一：新成員 Onboarding**\n\n新成員可以透過 `Claude.md` 快速了解專案規範，並使用 AI 輔助學習：\n\n```\n新成員 → AI：根據 Claude.md，我應該如何實作一個新的 API 端點？\nAI：根據專案規範，你需要...\n```\n\n**場景二：程式碼審查**\n\n在 PR 中，可以請 AI 根據 `Claude.md` 檢查程式碼：\n\n```\n審查者 → AI：請根據 Claude.md 的編碼規範，\n檢查這個 PR 是否符合專案標準。\n```\n\n**場景三：重構任務**\n\n大型重構時，AI 可以基於規範提供一致性的修改：\n\n```\n開發者 → AI：我們要將所有 API 呼叫改為使用新的錯誤處理模式，\n請根據 Claude.md 的規範重構這個檔案。\n```\n\n### 🔧 工具整合\n\n將 `Claude.md` 整合到開發流程：\n\n1. **VS Code 擴充功能**：設定快捷鍵快速開啟 `Claude.md`\n2. **Git Hooks**：提交前檢查是否需要更新文件\n3. **CI/CD**：在部署流程中驗證文件的完整性\n4. **文件連結**：在 `README.md` 中明確指向 `Claude.md`\n\n## 總結與展望\n\n### 🎯 關鍵要點回顧\n\n撰寫優秀的 `Claude.md` 的核心原則：\n\n1. **具體勝於抽象**：\n\n---\n\n**參考資料：**\n- [Writing a good Claude.md](https://www.humanlayer.dev/blog/writing-a-good-claude-md)\n"
}